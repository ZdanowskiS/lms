{block name="rtticketadd-content" prepend}
<script type="text/javascript">
function gettemplate($item) {
	var xhttp = new XMLHttpRequest();

	xhttp.open("POST", "?m=hdtemplateget&ajax=1&type=1&id="+$item.value+"&customerid="
+document.getElementsByName("ticket[customerid]")[0].value, true);
	xhttp.send();
	xhttp.onreadystatechange = function() {
		if(this.responseText.length>0){
			document.getElementsByName("ticket[body]")[0].value=this.responseText;
		}
	}
}
</script>
{box_row icon="img/info.gif" label="Templates:" labelid="template"}
	<SELECT SIZE="1" name="ticket[template]" id="template" onChange="gettemplate(this)" {tip text="Select status" trigger="template"}>
		<option value="-1"{if $message.state == -1} selected{/if}>{trans("select")}</option>
		{foreach $templates as $idx => $temp}
			<OPTION value="{$idx}"{if $message.template == $idx} selected{/if}>{$temp.name} </OPTION>
		{/foreach}
	</SELECT>
{/box_row}
{/block}
